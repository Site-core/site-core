<?phpclass template {    VAR $vars = array();	VAR $files = array();    VAR $template;		function get_file($file_id, $file_name='') {		if (array_key_exists($file_id, $this->files)) {			return $this->files[$file_id];		} elseif($file_name) {			$fh = fopen($file_name, "r") or die("Couldn't open $file_name!");			$file_contents = fread($fh, filesize($file_name));			$this->files[$file_id] = $file_contents;			fclose($fh);			return $this->files[$file_id];		} else {			return "FILE NOT FOUND";		}			}		function set_tpl($tpl_name){		if(empty($tpl_name) || !file_exists($tpl_name)){			return false;		} else {			$this->template  = file_get_contents($tpl_name);	//		$content = $this->get_file('CONTENT', $content);		}	}	function set_vars($key,$var){		$this->vars[$key] = $var;	}// Обработчик страниц	function set_content () {		$homepage = PGS_DIR.'/home.html';//		GLOBAL $content, $hello;		if (isset($_GET['page'])) {			$content = PGS_DIR.'/'.$_GET['page'].'.html';//			$hello = PGS_DIR.'hello/'.$_GET['page'].'.hello.html';		if (!file_exists($content))			$content = '404.html';		if (!file_exists($hello))			$hello = false;		} else {//			GLOBAL $slider;//			$this->register_file('slider', 'parts/slider.html');//			$slider = $this->get_file('slider');//			$hello = PGS_DIR.'hello/home.hello.html';			$content = $homepage;		}		// if($hello){			// $this->register_file('hello', $hello);			// $hello = $this->get_file('hello');		// }		$this->get_file('CONTENT', $content);		$this->set_vars('CONTENT', $content);	}	function tpl_parse(){		foreach($this->vars as $find => $replace){			$this->template = str_replace("{".$find."}", $replace, $this->template);		}	}}?>